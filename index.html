<!DOCTYPE html>
<html data-bs-theme="dark" lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pitik</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <script type="text/javascript">

        function tampilkanTanggalHariIni() {
        const hariMingguan = ["Minggu", "Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu"];
        const pasaranJawa = ["Legi", "Pahing", "Pon", "Wage", "Kliwon"];
        const bulanSingkat = ["Januari", "Februari", "Maret", "April", "Mei", "Juni",
                                "Juli", "Agustus", "September", "Oktober", "November", "Desember"];
        const bulanHijriah = ["Muharram", "Safar", "Rabiul Awal", "Rabiul Akhir", "Jumadil Awal",
                                "Jumadil Akhir", "Rajab", "Syaban", "Ramadhan", "Syawal", "Zulkaidah", "Zulhijah"];
        const bulanJawa = ["Suro", "Sapar", "Mulud", "Bakdo Mulud", "Jumadil Awal", "Jumadil Akhir",
                            "Rejeb", "Ruwah", "Poso", "Sawal", "Dulkaidah", "Besar"];

        // Acuan: Sabtu Wage, 26 Juli 2025
        const tanggalAcuan = new Date("2025-07-26");
        const sekarang = new Date(new Date().toLocaleString("en-US", { timeZone: "Asia/Jakarta" }));

        const tglAcuan = new Date(tanggalAcuan.getFullYear(), tanggalAcuan.getMonth(), tanggalAcuan.getDate());
        const tglSekarang = new Date(sekarang.getFullYear(), sekarang.getMonth(), sekarang.getDate());
        const selisih = Math.round((tglSekarang - tglAcuan) / (1000 * 60 * 60 * 24));

        const hariIndex = (6 + selisih % 7 + 7) % 7;     // 6 = Sabtu
        const pasaranIndex = (3 + selisih % 5 + 5) % 5;  // 3 = Wage
        const hariPasaran = `${hariMingguan[hariIndex]} ${pasaranJawa[pasaranIndex]}`;
        const tanggalSingkat = `${tglSekarang.getDate()} ${bulanSingkat[tglSekarang.getMonth()]} ${tglSekarang.getFullYear()}`;

        // === Hitung Hijriah ===
        function masehiKeHijriah(date) {
            const day = date.getDate();
            const month = date.getMonth() + 1;
            const year = date.getFullYear();

            let m = month;
            let y = year;
            if (m < 3) { y -= 1; m += 12; }

            const a = Math.floor(y / 100);
            const b = 2 - a + Math.floor(a / 4);
            const jd = Math.floor(365.25 * (y + 4716)) + Math.floor(30.6001 * (m + 1)) + day + b - 1524.5;
            const l = jd - 1948440 + 10632;
            const n = Math.floor((l - 1) / 10631);
            const r = l - 10631 * n + 354;
            const j = (Math.floor((10985 - r) / 5316)) * (Math.floor((50 * r) / 17719))
                    + (Math.floor(r / 5670)) * (Math.floor((43 * r) / 15238));
            const k = r - (Math.floor((30 - j) / 15)) * (Math.floor((17719 * j) / 50))
                    - (Math.floor(j / 16)) * (Math.floor((15238 * j) / 43)) + 29;
            const bulan = Math.floor((24 * k) / 709);
            let tanggal = k - Math.floor((709 * bulan) / 24);
            const tahun = 30 * n + j - 30;

            tanggal = Math.round(tanggal);
            return { tanggal, bulan, tahun };
        }

        const h = masehiKeHijriah(tglSekarang);
        const tanggalHijriah = `${h.tanggal} ${bulanHijriah[h.bulan - 1]} ${h.tahun} H`;
        const tanggalHijriahJawa = `${h.tanggal} ${bulanJawa[h.bulan - 1]} ${h.tahun} Jawa`;

        // Gabung jadi format baru
        const hijriahGabung = `${h.tanggal} ${bulanHijriah[h.bulan - 1]} (${bulanJawa[h.bulan - 1]}) ${h.tahun}`;

        document.getElementById('tanggal-hari-ini').innerHTML =
            `${hariPasaran}, ${tanggalSingkat}<br>${hijriahGabung}`;
    }

    document.addEventListener("DOMContentLoaded", tampilkanTanggalHariIni);

        function convertNumber(input) {
            return input.replace(/,/g, ".");
        }

        function formatInput(input) {
            // Remove non-digit characters from the input value
            let value = input.value.replace(/\D/g, '');

            // Format the number with thousand separators
            value = Number(value).toLocaleString();

            // Set the formatted value back to the input
            input.value = value;
        }

        function clearCopy() {
            document.getElementById("forcopy").value = "";
        }
        
        function bersihKalEndog() {
            document.getElementById("setel").value = "";
            document.getElementById("harga").value = "";
            document.getElementById("total").value = "";
            document.getElementById("etreTotal").value = "";
            document.getElementById("totalHutang").value = "";
            document.getElementById("forcopy").value = "";
            document.getElementById("sisaHutang").value = "";
            document.getElementById("kiloneEndog").innerHTML = "Setel";
        }

        function copyText() {
            if (document.getElementById("forcopy").value === "") {
                alert("Kosong!");
            }
            else {
                var salin = document.getElementById("forcopy");
                salin.select();
                salin.setSelectionRange(0, 99999);
                navigator.clipboard.writeText(salin.value);
                alert(salin.value + " Disalin");
            }
        }

        function calculate() {
            const setelVal = document.getElementById("setel").value;
            const hargaVal = document.getElementById("harga").value;
            const output = document.getElementById("total");

            if (!setelVal || !hargaVal) {
                output.value = "";
                return;
            }

            const setel = parseFloat(convertNumber(setelVal));
            let harga = hargaVal;

            // Jika harga mengandung koma/titik â†’ sudah format desimal
            if (harga.includes(",") || harga.includes(".")) {
                harga = parseFloat(convertNumber(harga)) * 1000;
            }
            // Jika panjang 1â€“2 digit â†’ asumsikan ribuan
            else if (harga.length <= 2) {
                harga = parseFloat(harga) * 1000;
            }
            // Jika 3 digit dan dua digit terakhir "00" â†’ gunakan langsung
            else if (harga.length === 3 && harga.substring(1) === "00") {
                harga = parseFloat(harga);
            }
            // Jika 3 digit dan bukan "00" di akhir â†’ ubah ke skema "22 700"
            else if (harga.length === 3) {
                const d2 = parseInt(harga.substring(0, 2));
                const d1 = parseInt(harga.substring(2));
                harga = (d2 * 1000) + (d1 * 100);
            }
            // Selain itu â†’ gunakan langsung
            else {
                harga = parseFloat(harga);
            }

            const result = setel * 15 * harga;
            output.value = "Rp " + result.toLocaleString();
        }

        function kiloEndog() {
            if (document.getElementById("setel").value === "") {
                document.getElementById("kiloneEndog").innerHTML = "Setel";
            }
            else {
                var stl = document.getElementById("setel").value;
                var kilone = parseFloat(document.getElementById("setel").value.replace(/[,.]/g, "")) * 15;
                // document.getElementById("kiloneEndog").innerHTML = stl.toLocaleString() + "Ã—15kg=" + kilone.toLocaleString() + "kg";
                document.getElementById("kiloneEndog").innerHTML = stl.toLocaleString() + " Setel (" + kilone.toLocaleString() + " Kg)";
            }
        }

        function resetSetEndog() {
            document.getElementById("kiloneEndog").innerHTML = "Setel";
            document.getElementById("totalHutang").value = "";
            document.getElementById("sisaHutang").value = "";
        }

        function etre() {
            var satuan = document.getElementById("anEtre").value;
            if (document.getElementById("setel").value === "") {
                document.getElementById("etreTotal").value = "";
            }
            else {
                var etreIn = parseFloat(document.getElementById("setel").value.replace(/[,.]/g, ""));
                var lembar, total, setel;
                setel = etreIn * satuan;
                total = Math.floor(setel / 70);
                lembar = setel % 70;
                if (lembar === 0) {
                    document.getElementById("etreTotal").value = total.toLocaleString() + " ikt";
                }
                else if (setel < 70) {
                    document.getElementById("etreTotal").value = lembar.toLocaleString() + " lbr";
                }
                else {
                    document.getElementById("etreTotal").value = total.toLocaleString() + " ikt + " + lembar.toLocaleString() + " lbr";
                }

            }
        }

        function prosesPakan() {
            const getNumber = id => parseFloat(document.getElementById(id).value.replace(/[,.]/g, "")) || 0;
            const formatRp = val => "Rp " + val.toLocaleString();
            const formatKg = val => val.toLocaleString() + " Kg";

            // Hitung total Jagung & Katul
            const kiloJagung = getNumber("kiloJagung");
            const hargaJagung = getNumber("hargaJagung");
            const totalJagung = kiloJagung * hargaJagung;
            // document.getElementById("totalJagung").value = totalJagung.toLocaleString();
            document.getElementById("judulTotalJagung").textContent =
                totalJagung > 0 ? `| Rp ${totalJagung.toLocaleString()}` : "";

            const kiloKatul = getNumber("kiloKatul");
            const hargaKatul = getNumber("hargaKatul");
            const totalKatul = kiloKatul * hargaKatul;
            // document.getElementById("totalKatul").value = totalKatul.toLocaleString();
            document.getElementById("judulTotalKatul").textContent =
                totalKatul > 0 ? `| Rp ${totalKatul.toLocaleString()}` : "";

            // Komponen lainnya
            const hargaLayer = getNumber("hargaLayer");
            const beratLayer = hargaLayer > 0 ? 50 : 0; // âœ… jika hargaLayer kosong, beratLayer = 0
            const hargaPremix = getNumber("hargaPremix");
            const upah = getNumber("upah");
            
            const totalSentrat = hargaLayer + hargaPremix + upah;
            document.getElementById("judulTotalSentrat").textContent =
                totalSentrat > 0 ? `| Rp ${totalSentrat.toLocaleString()}` : "";

            const totalBerat = kiloJagung + kiloKatul + beratLayer;

            // Hitung total harga dasar
            let totalHarga = totalJagung + totalKatul;
            if (hargaLayer) totalHarga += hargaLayer; // hanya tambahkan jika ada isinya

            // Tambahkan komponen opsional jika ada
            if (hargaPremix) totalHarga += hargaPremix;
            if (upah) totalHarga += upah;

            // Hindari pembagian dengan nol
            const perKilo = totalBerat > 0 ? Math.round(totalHarga / totalBerat) : 0;
            const bulat = perKilo > 0 ? Math.ceil(perKilo / 100) * 100 : 0;

            // Tampilkan hasil
            document.getElementById("totalBerat").value = totalBerat ? formatKg(totalBerat) : "";
            document.getElementById("totalHarga").value = totalHarga ? formatRp(totalHarga) : "";
            // document.getElementById("perKilo").value = perKilo ? formatRp(perKilo) : "";
            // document.getElementById("bulat").value = bulat ? formatRp(bulat) : "";
            document.getElementById("judulTotalPerKilo").textContent =
                bulat > 0 ? `: Rp ${bulat.toLocaleString()}/kg` : "";
        }

        function konsumsiPakan() {
            var popIn = document.getElementById("populasi").value;
            var porIn = document.getElementById("konsumsi").value;
            var hslOut = document.getElementById("konsumsiHasil");

            if (popIn === "" || porIn === "") {
                hslOut.value = "";
                document.getElementById("lblKonsumsiHasil").innerHTML = "Hasil";
                document.getElementById("konsumsiZak").disabled = false;
            } else {
                document.getElementById("konsumsiZak").disabled = true;
                document.getElementById("lblKonsumsiHasil").innerHTML = "1setel=150kg | 1zak=50kg";

                var populasi = parseFloat(popIn.replace(/[,.]/g, ""));
                var konsumsi = parseFloat(porIn.replace(/[,.]/g, ""));
                var beratPakan = Math.round(populasi * konsumsi / 1000);

                var setelan = Math.floor(beratPakan / 150);
                var lebihSetel = beratPakan % 150;

                var zak = Math.floor(beratPakan / 50);
                var lebihZak = beratPakan % 50;

                let text = "Berat Pakan\t" + beratPakan.toLocaleString() + " Kg\n";

                // tampilkan setel hanya jika >= 150
                if (beratPakan >= 150) {
                    if (lebihSetel === 0) {
                        text += "Setel Pakan\t" + setelan.toLocaleString() + " Setel\n";
                    } else {
                        text += "Setel Pakan\t" + setelan.toLocaleString() + " Setel + " + lebihSetel.toLocaleString() + " Kg\n";
                    }
                }

                // tampilkan zak hanya jika >= 50
                if (beratPakan >= 50) {
                    if (lebihZak === 0) {
                        text += "Zak Pakan\t" + zak.toLocaleString() + " Zak";
                    } else {
                        text += "Zak Pakan\t" + zak.toLocaleString() + " Zak + " + lebihZak.toLocaleString() + " Kg";
                    }
                }

                hslOut.value = text.trim();
            }
        }

        function konsumsiPakanZak() {
            var popIn = document.getElementById("populasi").value;
            var zakIn = document.getElementById("konsumsiZak").value;
            var hslOut = document.getElementById("konsumsiHasil");
            if (popIn === "" || zakIn === "") {
                hslOut.value = "";
                document.getElementById("lblKonsumsiHasil").innerHTML = "Hasil";
                document.getElementById("konsumsi").disabled = false;
            }
            else {
                document.getElementById("konsumsi").disabled = true;
                document.getElementById("lblKonsumsiHasil").innerHTML = "1zak=50kg | 1setel=150kg";
                var populasi, konsumsi, beratPakan;
                populasi = parseFloat(popIn.replace(/[,.]/g, ""));
                konsumsi = parseFloat(zakIn.replace(/[,.]/g, "")) * 50;
                beratPakan = Math.round((konsumsi / populasi) * 1000);

                var setelan = Math.floor(konsumsi / 150);
                var lebih = Math.floor(konsumsi % 150);
                if (lebih === 0) {
                    hslOut.value = "Berat Pakan\t" + konsumsi.toLocaleString() + " Kg\n" +
                        "Setel Pakan\t" + setelan.toLocaleString() + " Setel\n" +
                        "Porsi 1 Ekor\t" + beratPakan.toLocaleString() + " gram";
                }
                else if (konsumsi < 150) {
                    hslOut.value = "Berat Pakan\t" + konsumsi.toLocaleString() + " Kg\n" +
                        "Setel Pakan\t" + lebih.toLocaleString() + " Kg\n" +
                        "Porsi 1 Ekor\t" + beratPakan.toLocaleString() + " gram";
                }
                else {
                    hslOut.value = "Berat Pakan\t" + konsumsi.toLocaleString() + " Kg\n" +
                        "Setel Pakan\t" + setelan.toLocaleString() + " Setel + " + lebih.toLocaleString() + " Kg\n" +
                        "Porsi 1 Ekor\t" + beratPakan.toLocaleString() + " gram";
                }
            }
        }

        function Ckonsumsi() {
            document.getElementById("populasi").value = "";
            document.getElementById("konsumsi").value = "";
            document.getElementById("konsumsiZak").value = "";
            document.getElementById("konsumsiHasil").value = "";
            document.getElementById("konsumsi").disabled = false;
            document.getElementById("konsumsiZak").disabled = false;
            document.getElementById("lblKonsumsiHasil").innerHTML = "Hasil";
        }

        function untung() {
            if (document.getElementById("berapaHari").value === "") {
                if (
                    document.getElementById("setel2").value === "" ||
                    document.getElementById("pakanSelisih").value === "" ||
                    document.getElementById("hargaSetel2").value === "" ||
                    document.getElementById("hargaPakanSelisih").value === ""
                ) {
                    document.getElementById("totalTelur").value = "";
                    document.getElementById("totalPakanSelisih").value = "";
                    document.getElementById("selisih").value = "";
                    document.getElementById("setel2Lbl").innerHTML = "Telur (Setel)";
                    document.getElementById("pakanSelisihLbl").innerHTML = "Pakan (Kg)";
                }
                else {
                    var setel2, pakanSelisih, hargaSetel2, hargaPakanSelisih;
                    var totalTelur, totalPakanSelisih, selisih;
                    setel2 = parseFloat(convertNumber(document.getElementById("setel2").value));
                    pakanSelisih = parseFloat(document.getElementById("pakanSelisih").value.replace(/[,.]/g, ""));
                    hargaSetel2 = parseFloat(document.getElementById("hargaSetel2").value.replace(/[,.]/g, ""));
                    hargaPakanSelisih = parseFloat(document.getElementById("hargaPakanSelisih").value.replace(/[,.]/g, ""));
                    totalTelur = setel2 * 15 * hargaSetel2;
                    totalPakanSelisih = pakanSelisih * hargaPakanSelisih;
                    selisih = totalTelur - totalPakanSelisih;
                    document.getElementById("totalTelur").value = "Rp " + totalTelur.toLocaleString();
                    document.getElementById("totalPakanSelisih").value = "Rp " + totalPakanSelisih.toLocaleString();
                    document.getElementById("selisih").value = "Rp " + selisih.toLocaleString();
                    document.getElementById("setel2Lbl").innerHTML = "Telur (Setel)";
                    document.getElementById("pakanSelisihLbl").innerHTML = "Pakan (Kg)";
                }
            }
            else {
                if (
                    document.getElementById("setel2").value === "" ||
                    document.getElementById("pakanSelisih").value === "" ||
                    document.getElementById("hargaSetel2").value === "" ||
                    document.getElementById("hargaPakanSelisih").value === ""
                ) {
                    document.getElementById("totalTelur").value = "";
                    document.getElementById("totalPakanSelisih").value = "";
                    document.getElementById("selisih").value = "";
                    document.getElementById("setel2Lbl").innerHTML = "Telur (Setel)";
                    document.getElementById("pakanSelisihLbl").innerHTML = "Pakan (Kg)";
                }
                else {
                    var setel2, pakanSelisih, hargaSetel2, hargaPakanSelisih;
                    var totalTelur, totalPakanSelisih, selisih, harinya, setel2Lbl, pakanSelisihLbl;
                    setel2 = parseFloat(convertNumber(document.getElementById("setel2").value));
                    pakanSelisih = parseFloat(document.getElementById("pakanSelisih").value.replace(/[,.]/g, ""));
                    hargaSetel2 = parseFloat(document.getElementById("hargaSetel2").value.replace(/[,.]/g, ""));
                    hargaPakanSelisih = parseFloat(document.getElementById("hargaPakanSelisih").value.replace(/[,.]/g, ""));
                    harinya = parseFloat(document.getElementById("berapaHari").value.replace(/[,.]/g, ""));
                    totalTelur = (setel2 * 15 * hargaSetel2) * harinya;
                    totalPakanSelisih = (pakanSelisih * hargaPakanSelisih) * harinya;
                    selisih = totalTelur - totalPakanSelisih;
                    document.getElementById("totalTelur").value = "Rp " + totalTelur.toLocaleString();
                    document.getElementById("totalPakanSelisih").value = "Rp " + totalPakanSelisih.toLocaleString();
                    document.getElementById("selisih").value = "Rp " + selisih.toLocaleString() + " (" + harinya + " Hari)";
                    setel2Lbl = setel2 * harinya;
                    pakanSelisihLbl = pakanSelisih * harinya;
                    document.getElementById("setel2Lbl").innerHTML = setel2Lbl + " Setel";
                    document.getElementById("pakanSelisihLbl").innerHTML = pakanSelisihLbl.toLocaleString() + " Kg";
                }
            }
        }

        function resetLblUntung() {
            document.getElementById("setel2Lbl").innerHTML = "Telur (Setel)";
            document.getElementById("pakanSelisihLbl").innerHTML = "Pakan (Kg)";
        }

        function perkiraan() {
            if (document.getElementById("produkPopulasi").value === "" || document.getElementById("produkPersen").value === "") {
                document.getElementById("produkButiran").value = "";
                document.getElementById("produkEtre").value = "";
                document.getElementById("produkSetel").value = "";
            }
            else {
                var produkPopulasi, produkPersen, produkButiran, produkEtre, produkSetel, sisaTre, sisaButir;
                produkPopulasi = parseFloat(document.getElementById("produkPopulasi").value.replace(/[,.]/g, ""));
                // produkPersen = parseFloat(document.getElementById("produkPersen").value.replace(/[,.]/g, ""));
                produkPersen = parseFloat(convertNumber(document.getElementById("produkPersen").value));
                produkButiran = Math.floor(produkPopulasi * (produkPersen / 100));
                produkEtre = Math.floor(produkButiran / 30);
                produkSetel = Math.floor(produkEtre / 8);
                sisaButir = produkButiran % 30;
                sisaTre = produkEtre % 8;
                document.getElementById("produkButiran").value = produkButiran.toLocaleString() + " Butir";
                if (sisaButir === 0) {
                    document.getElementById("produkEtre").value = produkEtre.toLocaleString() + " Etre";
                }
                else {
                    document.getElementById("produkEtre").value = produkEtre.toLocaleString() + " Etre + " + sisaButir.toLocaleString() + " Butir";
                }
                if (sisaTre === 0) {
                    document.getElementById("produkSetel").value = produkSetel.toLocaleString() + " Setel";
                }
                else {
                    document.getElementById("produkSetel").value = produkSetel.toLocaleString() + " Setel + " + sisaTre.toLocaleString() + " Etre";
                }
            }
        }

        function perkiraanEtre() {
            if (document.getElementById("kiraEtrePop").value === "" || document.getElementById("kiraEtreEtre").value === "") {
                document.getElementById("kiraEtrePersen").value = "";
            }
            else {
                var kiraEtrePop, kiraEtreEtre, kiraEtrePersen, bulatDesimal, jadiPersen;
                kiraEtrePop = parseFloat(document.getElementById("kiraEtrePop").value.replace(/[,.]/g, ""));
                kiraEtreEtre = parseFloat(document.getElementById("kiraEtreEtre").value.replace(/[,.]/g, ""));
                bulatDesimal = (kiraEtreEtre * 30) / kiraEtrePop;
                jadiPersen = Math.round(bulatDesimal * 100);
                document.getElementById("kiraEtrePersen").value = jadiPersen.toLocaleString() + "%";
            }
        }

        function perkiraanSetel() {
            if (document.getElementById("kiraSetelPop").value === "" || document.getElementById("kiraSetelSetel").value === "") {
                document.getElementById("kiraSetelPersen").value = "";
                document.getElementById("kiraSetelEtre").value = "";
            }
            else {
                var kiraSetelPop = parseFloat(document.getElementById("kiraSetelPop").value.replace(/[,.]/g, ""));
                var kiraSetelSetel = parseFloat(document.getElementById("kiraSetelSetel").value.replace(/[,.]/g, ""));
                var bulatDesimal = ((kiraSetelSetel * 8) * 30) / kiraSetelPop;
                var jadiPersen = Math.round(bulatDesimal * 100);
                document.getElementById("kiraSetelPersen").value = jadiPersen.toLocaleString() + "%";
                var totalEtre = kiraSetelSetel * 8;
                document.getElementById("kiraSetelEtre").value = totalEtre.toLocaleString() + " Etre";
            }
        }

        function tebakPopulasi() {
            var inputEtre = document.getElementById("produkEtrePopulasi");
            var inputSetel = document.getElementById("produkSetelPopulasi");
            var persen = document.getElementById("penebakPop").value;
            var hasilPop = document.getElementById("produkSetelHasil");
            var labelHasil = document.getElementById("labelProdukSetelHasil"); //innerhtml

            if (inputSetel.value !== "") {
                inputEtre.disabled = true;
                var input = parseFloat(inputSetel.value.replace(/[,.]/g, ""));
                var endog = input * 8 * 30;
                var hasil = Math.round((endog * 100) / persen);
                hasilPop.value = hasil.toLocaleString() + " ekor";
                labelHasil.innerHTML = endog.toLocaleString() + " butir";
            }
            else if (inputEtre.value !== "") {
                inputSetel.disabled = true;
                var input = parseFloat(inputEtre.value.replace(/[,.]/g, ""));
                var endog = input * 30;
                var hasil = Math.round((endog * 100) / persen);
                hasilPop.value = hasil.toLocaleString() + " ekor";
                labelHasil.innerHTML = endog.toLocaleString() + " butir";
            }
            else {
                document.getElementById("produkSetelPopulasi").disabled = false;
                document.getElementById("produkEtrePopulasi").disabled = false;
                document.getElementById("produkSetelPopulasi").value = "";
                document.getElementById("produkEtrePopulasi").value = "";
                document.getElementById("produkSetelHasil").value = "";
                document.getElementById("labelProdukSetelHasil").innerHTML = "Perkiraan Populasi";
            }
        }

        function CperkiraanPopulasi() {
            document.getElementById("produkSetelPopulasi").disabled = false;
            document.getElementById("produkEtrePopulasi").disabled = false;
            document.getElementById("produkSetelPopulasi").value = "";
            document.getElementById("produkEtrePopulasi").value = "";
            document.getElementById("produkSetelHasil").value = "";
            document.getElementById("labelProdukSetelHasil").innerHTML = "Perkiraan Populasi";
        }

        function hitungcepat() {
            var hiceHasil, hicePakan, hicePop, hicePro, hiceTelur;
            hicePakan = parseFloat(document.getElementById("hicePakan").value.replace(/[,.]/g, ""));
            hicePop = parseFloat(document.getElementById("hicePop").value.replace(/[,.]/g, ""));
            hicePro = parseFloat(convertNumber(document.getElementById("hicePro").value));
            hiceTelur = parseFloat(document.getElementById("hiceTelur").value.replace(/[,.]/g, ""));
            var feed = document.getElementById("feedIntake").value;
            var lama = document.getElementById("hiceHari").value;
            if (
                document.getElementById("hicePop").value === "" ||
                document.getElementById("hicePakan").value === "" ||
                document.getElementById("hiceTelur").value === "" ||
                document.getElementById("hicePro").value === ""
            ) {
                document.getElementById("hiceHasil").value = "";
            }
            else {
                if (lama == "1") {
                    var setel = Math.floor((((hicePop * (hicePro / 100)) / 30) / 8));
                    var punjul = Math.floor((((hicePop * (hicePro / 100)) / 30) % 8));
                    var kpakan = Math.ceil((hicePop * feed / 1000) / 5) * 5;
                    var tpakan = kpakan * hicePakan;
                    var omzet = setel * 15 * hiceTelur;
                    var selisih = omzet - tpakan;

                    if (punjul === 0) {
                        document.getElementById("hiceHasil").value =
                            "~Per Hari~" + "\n" +
                            "Telur\t " + setel.toLocaleString() + " Setel" + "\n" +
                            "Pakan\t " + kpakan.toLocaleString() + " kg" + "\n" +
                            "Biaya\t Rp " + tpakan.toLocaleString() + "\n" +
                            "Omset\t Rp " + omzet.toLocaleString() + "\n" +
                            "Selisih\t Rp " + selisih.toLocaleString();
                    }
                    else {
                        document.getElementById("hiceHasil").value =
                            "~Per Hari~" + "\n" +
                            "Telur\t " + setel.toLocaleString() + " Setel (+ " + punjul.toLocaleString() + " Etre)" + "\n" +
                            "Pakan\t " + kpakan.toLocaleString() + " kg" + "\n" +
                            "Biaya\t Rp " + tpakan.toLocaleString() + "\n" +
                            "Omset\t Rp " + omzet.toLocaleString() + "\n" +
                            "Selisih\t Rp " + selisih.toLocaleString();
                    }
                }
                else {
                    var punjul = (Math.floor((hicePop * (hicePro / 100)) / 30)) * lama;
                    var setel = Math.floor(punjul / 8);
                    var kpakan = Math.ceil(((Math.round(hicePop * feed / 1000)) * lama) / 5) * 5;
                    var tpakan = kpakan * hicePakan;
                    var omzet = setel * 15 * hiceTelur;
                    var selisih = omzet - tpakan;
                    var per = Math.floor((selisih / lama) / 500) * 500;

                    document.getElementById("hiceHasil").value =
                        "~" + lama.toLocaleString() + " Hari~" + "\n" +
                        "Telur\t " + setel.toLocaleString() + " Setel" + "\n" +
                        "Pakan\t " + kpakan.toLocaleString() + " kg" + "\n" +
                        "Biaya\t Rp " + tpakan.toLocaleString() + "\n" +
                        "Omset\t Rp " + omzet.toLocaleString() + "\n" +
                        "Selisih\t Rp " + selisih.toLocaleString() + "\n" +
                        "(1 Hari)\t (Rp " + per.toLocaleString() + ")";
                }
            }
        }

        function hutang() {
            const totalEl = document.getElementById("total");
            const hutangEl = document.getElementById("totalHutang");
            const sisaEl = document.getElementById("sisaHutang");
            const copyEl = document.getElementById("forcopy");

            if (!totalEl.value || !hutangEl.value) {
                sisaEl.value = "";
                sisaEl.classList.remove("text-danger", "text-info");
                return;
            }

            const uangtelur = parseFloat(totalEl.value.replace(/[^0-9]/g, ""));
            const totalHutang = parseFloat(hutangEl.value.replace(/[,.]/g, ""));
            const sisa = uangtelur - totalHutang;

            // Update warna sesuai minus atau tidak
            if (sisa < 0) {
                sisaEl.classList.add("text-danger");
                sisaEl.classList.remove("text-info");
                sisaEl.value = "Utang: Rp " + sisa.toLocaleString();
            } else {
                sisaEl.classList.add("text-info");
                sisaEl.classList.remove("text-danger");
                sisaEl.value = "Sisa: Rp " + sisa.toLocaleString();
            }

            // Tampilkan hasil
            // sisaEl.value = "Sisa: Rp " + sisa.toLocaleString();
            copyEl.value = Math.abs(sisa).toString();
        }

        document.addEventListener("DOMContentLoaded", function () {
            // Untuk semua grup tombol dengan data-btn-group
            document.querySelectorAll('[data-btn-group]').forEach(group => {
                const checkboxes = group.querySelectorAll('input[type="checkbox"].btn-check');

                checkboxes.forEach(chk => {
                    const targetId = chk.getAttribute('data-bs-target');
                    const collapse = document.querySelector(targetId);

                    if (!collapse) return;

                    // Saat tombol diubah
                    chk.addEventListener('change', function () {
                        if (this.checked) {
                            // Matikan semua checkbox lain
                            checkboxes.forEach(c => {
                                if (c !== this) {
                                    c.checked = false;
                                    const otherTarget = c.getAttribute('data-bs-target');
                                    const otherCollapse = document.querySelector(otherTarget);
                                    if (otherCollapse && otherCollapse.classList.contains('show')) {
                                        bootstrap.Collapse.getOrCreateInstance(otherCollapse).hide();
                                    }
                                }
                            });
                            // Buka collapse terkait
                            bootstrap.Collapse.getOrCreateInstance(collapse).show();
                        } else {
                            // Jika dicentang lalu di-uncheck â†’ tutup collapse
                            bootstrap.Collapse.getOrCreateInstance(collapse).hide();
                        }
                    });

                    // Saat collapse dibuka secara manual (misalnya pakai JS)
                    collapse.addEventListener('shown.bs.collapse', function () {
                        chk.checked = true;
                        checkboxes.forEach(c => {
                            if (c !== chk) c.checked = false;
                        });
                    });

                    // Saat collapse ditutup secara manual
                    collapse.addEventListener('hidden.bs.collapse', function () {
                        // chk.checked = false;
                    });
                });
            });
        });

        function hapusCard(jenis) {
            const mapping = {
                'Jagung': ['kiloJagung', 'hargaJagung', 'totalJagung'],
                'Katul': ['kiloKatul', 'hargaKatul', 'totalKatul'],
                'Konsentrat': ['hargaLayer', 'hargaPremix', 'upah']
            };
            mapping[jenis].forEach(id => {
                const el = document.getElementById(id);
                if (el) el.value = '';
            });
            prosesPakan();
        }
        function hapusJudulCard() {
            document.getElementById("judulTotalJagung").textContent = "";
            document.getElementById("judulTotalKatul").textContent = "";
            document.getElementById("judulTotalSentrat").textContent = "";
            document.getElementById("judulTotalPerKilo").textContent = "";
        }

    </script>
    <style>
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }

        input[type=number] {
            -moz-appearance: textfield;
        }

        .hr-text {
            display: flex;
            align-items: center;
        }

        .hr-text:before {
            content: "";
            flex-grow: 1;
            background-color: #54B4D3;
            height: 1px;
            margin: 0 10px 0 0;
        }

        .hr-text:after {
            content: "";
            flex-grow: 1;
            background-color: #54B4D3;
            height: 1px;
            margin: 0 0 0 10px;
        }

        .float-btn {
            /* border: solid 2px #ffffff; */
            position: fixed;
            bottom: 20px;
            /* right: 20px; */
            z-index: 1050;
            border-radius: 25%;
            width: 50px;
            height: 50px;
            font-size: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fil0 {
            fill: white;
            fill-rule: nonzero
        }

        .font {
            font-family: 'JetBrains Mono', monospace;
            letter-spacing: -.5pt;
            word-spacing: -3pt;
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
</head>

<body class="container">

    <br>
    <div class="col text-center lead">
        <span class="text-light" id="tanggal-hari-ini"></span>
    </div>
    <br>

    <div class="row my-3">
        
        <!-- Kolom Kalkulator Endog -->
        <div class="col-12 col-lg-6 mb-3 font">
            <div class="input-group mb-1">
                <span class="form-control bg-light border border-1 border-light text-dark fs-5 fw-bold">Kalkulator Endog</span>
                <button class="btn btn-light" type="button" data-bs-toggle="collapse"
                        data-bs-target="#collapseHutang" aria-expanded="false" aria-controls="collapseExample">
                    <i class="bi bi-cash-stack" style="font-size: 1.25rem"></i>
                </button>
                <button class="btn btn-light" tabindex="-1" onclick="bersihKalEndog()">
                    <i class="bi bi-backspace-fill" style="font-size: 1.25rem"></i>
                </button>
                <button class="btn btn-light" data-bs-toggle="modal"
                    data-bs-target="#modalHiCe" data-bs-toggle="tooltip" data-bs-placement="left" title="Hitung Cepat">
                    <i class="bi bi-lightning-charge-fill" style="font-size: 1.25rem"></i>
                </button>
            </div>
            <form action="">
                <div class="input-group input-group-lg">
                    <div class="form-floating">
                        <input class="form-control text-end text-white fs-3" autocomplete="off" type="number" id="setel"
                            oninput="etre(); calculate(); kiloEndog(); hutang();" placeholder="Setel"
                            inputmode="numeric">
                        <label for="setel" id="kiloneEndog">Setel</label>
                        <!-- <label for="setel">Setel</label> -->
                    </div>
                    <div class="form-floating">
                        <input autocomplete="off" class="form-control text-end text-white fs-3" id="harga"
                            oninput="calculate(); hutang();" placeholder="Harga" type="number" inputmode="numeric"
                            style="letter-spacing: 3px;" />
                        <label for="harga">Harga</label>
                    </div>
                </div>
                <div class="input-group input-group-lg mt-1">
                    <input class="form-control text-info text-start fs-2 fw-bold border-0" id="total" placeholder="Uang"
                        disabled>
                </div>
                <div class="input-group input-group-lg mt-1 mb-3">
                    <input class="form-control text-warning-emphasis text-start fs-5 fw-bold border-0" style="width: 65%;"
                        autocomplete="off" id="etreTotal" placeholder="EggTry" disabled>

                    <select class="form-select text-warning-emphasis bg-body-secondary border-0 border-start w-auto" aria-label="Default select example" id="anEtre"
                        onchange="etre()">
                        <option value="5">5an</option>
                        <option value="6">6an</option>
                        <option value="7">7an</option>
                        <option value="8" selected>8an</option>
                        <option value="9">9an</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="14">14</option>
                        <option value="15">15</option>
                    </select>
                </div>
            </form>
            <div class="collapse" id="collapseHutang">
                <form action="">
                    <div class="input-group">
                        <span class="form-control bg-light border border-1 border-light text-dark fs-5 fw-bold">Utang</span>
                        <button type="button" class="btn btn-light" onclick="copyText()">
                            <i class="bi bi-copy" style="font-size: 1.25rem"></i>
                        </button>
                        <button class="btn btn-light" type="reset" tabindex="-1" onclick="clearCopy()">
                            <i class="bi bi-backspace-fill" style="font-size: 1.25rem"></i>
                        </button>
                    </div>
                    <div class="input-group mt-1">
                        <div class="form-floating">
                            <input class="form-control text-start text-white" inputmode="numeric" id="totalHutang"
                                placeholder="Total Hutang (Rp)" oninput="hutang(); formatInput(this);">
                            <label for="totalHutang">Total Utang (Rp)</label>
                        </div>
                    </div>
                        <input id="forcopy" hidden>
                    <div class="input-group mt-1">
                        <input class="form-control text-info text-start fw-bold fs-5 border-0" id="sisaHutang"
                            placeholder="Sisa/Utang" disabled>
                    </div>
                </form>
            </div>
        </div>

        <!-- <br> -->

        <!-- Kolom Menu lainnya -->
        <div class="col-12 col-lg-6">
            <!-- ðŸ”¹ Tombol Utama -->
            <div class="btn-group d-flex mb-3" data-btn-group>
                <input type="checkbox" class="btn-check" id="btnPakan" data-bs-toggle="collapse"
                    data-bs-target="#collapsePakan">
                <label class="btn btn-outline-light w-100" for="btnPakan"><i class="bi bi-fork-knife"></i> Pakan</label>

                <input type="checkbox" class="btn-check" id="btnProduksi" data-bs-toggle="collapse"
                    data-bs-target="#collapseProduksi">
                <label class="btn btn-outline-light w-100" for="btnProduksi"><i class="bi bi-egg-fill"></i> Produksi</label>

                <input type="checkbox" class="btn-check" id="btnSelisih" data-bs-toggle="collapse"
                    data-bs-target="#collapseSelisih">
                <label class="btn btn-outline-light w-100" for="btnSelisih"><i class="bi bi-cash-coin"></i> Selisih</label>
            </div>

            <!-- ðŸ”¸ Wrapper Collapse Utama -->
            <div id="mainCollapseWrapper">

                <!-- ðŸŸ¦ Collapse Pakan -->
                <div class="collapse" id="collapsePakan" data-bs-parent="#mainCollapseWrapper">
                    <div class="bg-dark text-light rounded">

                        <!-- Sub Tombol -->
                        <div class="btn-group d-flex mb-3 px-3" data-btn-group>
                            <input type="checkbox" class="btn-check" id="btnKalkulator" data-bs-toggle="collapse"
                                data-bs-target="#collapseKalkulator" checked>
                            <label class="btn btn-outline-light w-100" for="btnKalkulator"><i class="bi bi-calculator-fill"></i> Hitung</label>
                            <input type="checkbox" class="btn-check" id="btnKonsumsi" data-bs-toggle="collapse"
                                data-bs-target="#collapseKonsumsi">
                            <label class="btn btn-outline-light w-100" for="btnKonsumsi"><i class="bi bi-plus-slash-minus"></i> Konsumsi</label>
                        </div>

                        <!-- Sub Collapse Pakan -->
                        <div id="pakanCollapseWrapper">
                            <div class="collapse show" id="collapseKalkulator" data-bs-parent="#pakanCollapseWrapper">
                                <div class="bg-dark text-light rounded">
                                    <form action="">
                                        <!-- Card Jagung -->
                                        <div class="card bg-dark text-white mb-1">
                                            <div class="card-header d-flex justify-content-between align-items-center">
                                                <span class="fs-5 text-light">
                                                    Jagung <span id="judulTotalJagung" class="text-light"></span>
                                                </span>
                                                <button type="button" class="btn btn-sm btn-dark bg-transparent border-0" onclick="hapusCard('Jagung')" title="Hapus Jagung">
                                                    <i class="bi bi-backspace-fill" style="font-size: 1.25rem"></i>
                                                </button>
                                            </div>
                                            <div class="card-body">
                                                <div class="input-group mt-1">
                                                    <div class="form-floating">
                                                        <input class="form-control text-white" autocomplete="off" inputmode="numeric"
                                                            id="kiloJagung" oninput="prosesPakan(); formatInput(this);" placeholder="isi">
                                                        <label for="kiloJagung">Berat (Kg)</label>
                                                    </div>
                                                    <div class="form-floating">
                                                        <input class="form-control text-white" autocomplete="off" inputmode="numeric"
                                                            id="hargaJagung" oninput="prosesPakan(); formatInput(this);" placeholder="isi">
                                                        <label for="hargaJagung">Harga</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Card Katul -->
                                        <div class="card bg-dark text-white mb-1">
                                            <div class="card-header d-flex justify-content-between align-items-center">
                                                <span class="fs-5 text-light">
                                                    Katul <span id="judulTotalKatul" class="text-light"></span>
                                                </span>
                                                <button type="button" class="btn btn-sm btn-dark bg-transparent border-0" onclick="hapusCard('Katul')" title="Hapus Katul">
                                                    <i class="bi bi-backspace-fill" style="font-size: 1.25rem"></i>
                                                </button>
                                            </div>
                                            <div class="card-body">
                                                <div class="input-group mt-1">
                                                    <div class="form-floating">
                                                        <input class="form-control text-white" autocomplete="off" inputmode="numeric"
                                                            id="kiloKatul" oninput="prosesPakan(); formatInput(this);" placeholder="isi">
                                                        <label for="kiloKatul">Berat (Kg)</label>
                                                    </div>
                                                    <div class="form-floating">
                                                        <input class="form-control text-white" autocomplete="off" inputmode="numeric"
                                                            id="hargaKatul" oninput="prosesPakan(); formatInput(this);" placeholder="isi">
                                                        <label for="hargaKatul">Harga</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Card Konsentrat -->
                                        <div class="card bg-dark text-white mb-1">
                                            <div class="card-header d-flex justify-content-between align-items-center">
                                                <span class="fs-5 text-light">
                                                    Konsentrat <span id="judulTotalSentrat" class="text-light"></span>
                                                </span>
                                                <button type="button" class="btn btn-sm btn-dark bg-transparent border-0" onclick="hapusCard('Konsentrat')" title="Hapus Konsentrat">
                                                    <i class="bi bi-backspace-fill" style="font-size: 1.25rem"></i>
                                                </button>
                                            </div>
                                            <div class="card-body">
                                                <div class="input-group mt-1">
                                                    <div class="form-floating">
                                                        <input class="form-control text-white text-center" autocomplete="off" inputmode="numeric"
                                                            id="hargaLayer" oninput="prosesPakan(); formatInput(this);" placeholder="isi">
                                                        <label for="hargaLayer">Layer</label>
                                                    </div>
                                                    <div class="form-floating">
                                                        <input class="form-control text-white text-center" autocomplete="off" inputmode="numeric"
                                                            id="hargaPremix" oninput="prosesPakan(); formatInput(this);" placeholder="isi">
                                                        <label for="hargaPremix">Premix</label>
                                                    </div>
                                                    <div class="form-floating">
                                                        <input class="form-control text-white text-center" autocomplete="off" inputmode="numeric"
                                                            id="upah" oninput="prosesPakan(); formatInput(this);" placeholder="isi">
                                                        <label for="upah">Jasa</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Card Total -->
                                        <div class="card bg-dark text-white">
                                            <div class="card-header d-flex justify-content-between align-items-center">
                                                <span class="fs-5 text-light">
                                                    TOTAL <span id="judulTotalPerKilo" class="text-info fw-bold"></span>
                                                </span>
                                                <button onclick="hapusJudulCard()" type="reset" class="btn btn-sm btn-dark bg-transparent border-0" title="Hapus Semua">
                                                    <i class="bi bi-trash-fill" style="font-size: 1.25rem"></i>
                                                </button>
                                            </div>
                                            <div class="card-body">
                                                <div class="input-group input-group-lg mt-1">
                                                    <input class="form-control text-white border-0" placeholder="Total Harga"
                                                        autocomplete="off" id="totalHarga" disabled>
                                                    <input class="form-control text-white border-0 border-start" placeholder="Total Berat"
                                                        autocomplete="off" id="totalBerat" disabled>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="collapse" id="collapseKonsumsi" data-bs-parent="#pakanCollapseWrapper">
                                <div class="card bg-dark text-white mb-2">
                                    <div class="card-header d-flex justify-content-between align-items-center">
                                    <span class="fs-5 text-light">Konsumsi Pakan</span>
                                    <button type="reset" class="btn btn-sm bg-transparent border-0 text-light"
                                        onclick="Ckonsumsi()" title="Hapus Konsumsi">
                                        <i class="bi bi-backspace-fill" style="font-size: 1.25rem"></i>
                                    </button>
                                    </div>

                                    <div class="card-body">
                                    <form action="">
                                        <div class="input-group">
                                        <div class="form-floating">
                                            <input class="form-control text-white" autocomplete="off"
                                            inputmode="numeric" id="populasi"
                                            oninput="konsumsiPakan(); formatInput(this);" placeholder="Populasi">
                                            <label for="populasi">Populasi</label>
                                        </div>
                                        </div>

                                        <div class="input-group mt-1">
                                        <div class="form-floating">
                                            <input class="form-control text-white" autocomplete="off"
                                            inputmode="numeric" id="konsumsi"
                                            oninput="konsumsiPakan(); formatInput(this);" placeholder="Konsumsi">
                                            <label for="konsumsi">Porsi (gram)</label>
                                        </div>
                                        <span class="input-group-text bg-transparent">/</span>
                                        <div class="form-floating">
                                            <input class="form-control text-white" autocomplete="off"
                                            inputmode="numeric" id="konsumsiZak"
                                            oninput="konsumsiPakanZak(); formatInput(this);" placeholder="Konsumsi">
                                            <label for="konsumsiZak">Zak (50kg/zak)</label>
                                        </div>
                                        </div>
                                    </form>
                                    </div>

                                    <div class="card-footer">
                                    <div class="form-floating">
                                        <textarea class="form-control fs-5 mt-1 text-info border-0" id="konsumsiHasil"
                                        style="height: 150px" disabled></textarea>
                                        <label for="konsumsiHasil" id="lblKonsumsiHasil"
                                        style="font-size: 14pt;" class="fw-bold">Hasil</label>
                                    </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ðŸŸ§ Collapse Produksi -->
                <div class="collapse" id="collapseProduksi" data-bs-parent="#mainCollapseWrapper">
                    <div class="bg-dark text-light rounded">

                        <!-- Sub Tombol -->
                        <div class="btn-group d-flex mb-3 px-3" data-btn-group>
                            <input type="checkbox" class="btn-check" id="btnProd1" data-bs-toggle="collapse"
                                data-bs-target="#collapseProd1">
                            <label class="btn btn-outline-light" for="btnProd1"><i class="bi bi-inbox-fill"></i><br>EggTry</label>

                            <input type="checkbox" class="btn-check" id="btnProd2" data-bs-toggle="collapse"
                                data-bs-target="#collapseProd2" checked>
                            <label class="btn btn-outline-light" for="btnProd2"><i class="bi bi-box2-fill"></i><br>Setel</label>

                            <input type="checkbox" class="btn-check" id="btnProd3" data-bs-toggle="collapse"
                                data-bs-target="#collapseProd3">
                            <label class="btn btn-outline-light" for="btnProd3"><i class="bi bi-percent"></i><br>Persen</label>

                            <input type="checkbox" class="btn-check" id="btnProd4" data-bs-toggle="collapse"
                                data-bs-target="#collapseProd4">
                            <label class="btn btn-outline-light" for="btnProd4"><i class="bi bi-question-circle-fill"></i><br>Populasi</label>
                        </div>

                        <!-- Sub Collapse Produksi -->
                        <div id="produksiCollapseWrapper">
                            <div class="collapse" id="collapseProd1" data-bs-parent="#produksiCollapseWrapper">
                                <div class="bg-dark text-light rounded">
                                    <form action="">
                                        <div class="input-group mt-1">
                                            <div class="form-floating">
                                                <input class="form-control text-white" autocomplete="off"
                                                    inputmode="numeric" id="kiraEtrePop"
                                                    oninput="formatInput(this); perkiraanEtre();"
                                                    placeholder="Populasi">
                                                <label for="kiraEtrePop">Populasi</label>
                                            </div>
                                            <div class="form-floating">
                                                <input class="form-control text-white" autocomplete="off"
                                                    inputmode="numeric" id="kiraEtreEtre"
                                                    oninput="formatInput(this); perkiraanEtre();" placeholder="Etre">
                                                <label for="kiraEtreEtre">Etre</label>
                                            </div>
                                        </div>
                                        <div class="input-group mt-1">
                                            <input class="form-control text-info text-center fs-4 fw-bold border-0"
                                                autocomplete="off" id="kiraEtrePersen" placeholder="Persentase"
                                                disabled>
                                            <button type="reset" class="btn btn-dark bg-body-secondary border-0 border-start" tabindex="-1">
                                                <i class="bi bi-trash-fill" style="font-size: 1.25rem;"></i>
                                            </button>
                                        </div>
                                        <div class="mt-1 alert alert-dark alert-dismissible fade show" role="alert">
                                            <i class="bi bi-info-circle-fill text-info"></i>
                                            Mencari Persentase Produksi Berdasarkan Jumlah EggTry
                                            <button type="button" class="btn-close" data-bs-dismiss="alert"
                                                aria-label="Close"></button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="collapse show" id="collapseProd2" data-bs-parent="#produksiCollapseWrapper">
                                <div class="bg-dark text-light rounded">
                                    <form action="">
                                        <div class="input-group mt-1">
                                            <div class="form-floating">
                                                <input class="form-control text-white" autocomplete="off"
                                                    inputmode="numeric" id="kiraSetelPop"
                                                    oninput="formatInput(this); perkiraanSetel();"
                                                    placeholder="Populasi">
                                                <label for="kiraSetelPop">Populasi</label>
                                            </div>
                                            <div class="form-floating">
                                                <input class="form-control text-white" autocomplete="off"
                                                    inputmode="numeric" id="kiraSetelSetel"
                                                    oninput="formatInput(this); perkiraanSetel();" placeholder="Setel">
                                                <label for="kiraSetelSetel">Setel</label>
                                            </div>
                                        </div>
                                        <div class="input-group mt-1">
                                            <input class="form-control text-info text-center fs-4 fw-bold border-0"
                                                autocomplete="off" id="kiraSetelPersen" placeholder="Persen" disabled>
                                            <button type="reset" class="btn btn-dark bg-body-secondary border-0 border-start border-end" tabindex="-1">
                                                <i class="bi bi-trash-fill" style="font-size: 1.25rem;"></i>
                                            </button>
                                            <input class="form-control text-info text-center fs-4 fw-bold border-0"
                                                autocomplete="off" id="kiraSetelEtre" placeholder="Etre" disabled>
                                        </div>
                                        <div class="mt-1 alert alert-dark alert-dismissible fade show" role="alert">
                                            <i class="bi bi-info-circle-fill text-info"></i>
                                            Mencari Persentase Produksi Berdasarkan Jumlah Setel (8 EggTry)
                                            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="collapse" id="collapseProd3" data-bs-parent="#produksiCollapseWrapper">
                                <div class="bg-dark text-light rounded">
                                    <form action="">
                                        <div class="input-group mt-1">
                                            <div class="form-floating">
                                                <input class="form-control text-white" autocomplete="off"
                                                    inputmode="numeric" id="produkPopulasi"
                                                    oninput="perkiraan(); formatInput(this);" placeholder="Populasi">
                                                <label for="produkPopulasi" id="">Populasi</label>
                                            </div>
                                            <div class="form-floating">
                                                <input class="form-control text-white" autocomplete="off"
                                                    inputmode="numeric" id="produkPersen" oninput="perkiraan()"
                                                    placeholder="Persentase">
                                                <label for="produkPersen" id="">Persentase (%)</label>
                                            </div>
                                            <button type="reset" class="btn btn-dark border" tabindex="-1">
                                                <i class="bi bi-trash-fill" style="font-size: 1.25rem;"></i>
                                            </button>
                                        </div>
                                        <div class="input-group mt-1">
                                            <input class="form-control text-info text-center fs-5 fw-bold border-0 rounded-0 rounded-top"
                                                autocomplete="off" id="produkButiran" placeholder="Total Butiran"
                                                disabled>
                                        </div>
                                        <div class="input-group">
                                            <input class="form-control text-info text-center fs-5 fw-bold border-0 rounded-0"
                                                autocomplete="off" id="produkEtre" placeholder="Total Etre" disabled>
                                        </div>
                                        <div class="input-group">
                                            <input class="form-control text-warning text-center fs-5 fw-bold border-0 rounded-0 rounded-bottom"
                                                autocomplete="off" id="produkSetel" placeholder="Total Setel" disabled>
                                        </div>
                                        <div class="mt-1 alert alert-dark alert-dismissible fade show" role="alert">
                                            <i class="bi bi-info-circle-fill text-info"></i>
                                            Mencari Total Produksi Berdasarkan Persentase
                                            <button type="button" class="btn-close" data-bs-dismiss="alert"
                                                aria-label="Close"></button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="collapse" id="collapseProd4" data-bs-parent="#produksiCollapseWrapper">
                                <div class="bg-dark text-light rounded">
                                    <form action="">
                                        <div class="input-group mt-1">
                                            <div class="form-floating">
                                                <input class="form-control text-white" autocomplete="off"
                                                    inputmode="numeric" id="produkSetelPopulasi"
                                                    oninput="tebakPopulasi(); formatInput(this);" placeholder="Setel">
                                                <label for="produkSetelPopulasi" id="">Setel PerHari</label>
                                            </div>
                                            <span class="input-group-text bg-transparent">/</span>
                                            <div class="form-floating">
                                                <input class="form-control text-white" autocomplete="off"
                                                    inputmode="numeric" id="produkEtrePopulasi"
                                                    oninput="tebakPopulasi(); formatInput(this);" placeholder="Etre">
                                                <label for="produkEtrePopulasi" id="">Etre PerHari</label>
                                            </div>
                                            <button onclick="CperkiraanPopulasi()" type="reset" class="btn btn-dark border"
                                                tabindex="-1">
                                                <i class="bi bi-trash-fill" style="font-size: 1.25rem;"></i>
                                            </button>
                                        </div>
                                        <div class="input-group mt-1">
                                            <div class="form-floating" style="width: 60%;">
                                                <input class="form-control text-info text-center fs-5 fw-bold border-0"
                                                    autocomplete="off" style="height: 75px;" id="produkSetelHasil"
                                                    placeholder="Perkiraan Populasi" disabled>
                                                <label id="labelProdukSetelHasil" for="produkSetelHasil"
                                                    style="font-size: 12pt;" class="fw-bold text-light">Perkiraan
                                                    Populasi</label>
                                            </div>
                                            <select class="form-select text-light fs-5 bg-body-secondary border-0 border-start" aria-label="Default select example"
                                                id="penebakPop" onchange="tebakPopulasi()" style="height: 75px;">
                                                <option value="60">60%</option>
                                                <option value="65">65%</option>
                                                <option value="70">70%</option>
                                                <option value="75">75%</option>
                                                <option value="80" selected>80%</option>
                                                <option value="85">85%</option>
                                                <option value="90">90%</option>
                                                <option value="95">95%</option>
                                            </select>
                                        </div>
                                        <div class="mt-1 alert alert-dark alert-dismissible fade show" role="alert">
                                            <i class="bi bi-info-circle-fill text-info"></i>
                                            Menebak Populasi Berdasarkan Produksi (Berapa <b>Setel</b> PerHari
                                            <b>atau</b>
                                            Berapa <b>EggTry</b> PerHari)
                                            <button type="button" class="btn-close" data-bs-dismiss="alert"
                                                aria-label="Close"></button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ðŸŸ¥ Collapse Selisih -->
                <div class="collapse" id="collapseSelisih" data-bs-parent="#mainCollapseWrapper">
                    <div class="bg-dark text-light rounded">
                        <div class="col text-center fs-5">
                            Selisih Telur-Pakan
                        </div>
                        <form action="">
                            <div class="input-group mt-1">
                                <div class="form-floating">
                                    <input autocomplete="off" class="form-control text-white" id="setel2"
                                        oninput="untung()" placeholder="Setel" tabindex="1" type="number"
                                        inputmode="numeric" />
                                    <label for="setel2" id="setel2Lbl">Telur (Setel)</label>
                                </div>
                                <div class="form-floating">
                                    <input autocomplete="off" class="form-control text-white" id="pakanSelisih"
                                        inputmode="numeric" oninput="untung(); formatInput(this);" placeholder="Setel"
                                        tabindex="3" />
                                    <label for="pakanSelisih" id="pakanSelisihLbl">Pakan (Kg)</label>
                                </div>
                            </div>
                            <div class="input-group mt-1">
                                <div class="form-floating">
                                    <input autocomplete="off" class="form-control text-white" id="hargaSetel2"
                                        inputmode="numeric" oninput="untung(); formatInput(this);" placeholder="Harga"
                                        tabindex="2" />
                                    <label for="hargaSetel2">Harga Telur</label>
                                </div>
                                <div class="form-floating">
                                    <input autocomplete="off" class="form-control text-white" id="hargaPakanSelisih"
                                        inputmode="numeric" oninput="untung(); formatInput(this);" placeholder="Harga"
                                        tabindex="4" />
                                    <label for="hargaPakanSelisih">Harga Pakan</label>
                                </div>
                            </div>
                            <div class="input-group mt-1">
                                <input autocomplete="off" class="form-control text-warning-emphasis fw-bold border-0" disabled=""
                                    id="totalTelur" placeholder="Total Telur" />
                                <input autocomplete="off" class="form-control text-danger-emphasis fw-bold border-0 border-start" disabled=""
                                    id="totalPakanSelisih" placeholder="Total Pakan" />
                            </div>
                            <div class="input-group mt-1">
                                <input autocomplete="off" class="form-control text-info text-center fs-4 fw-bold border-0"
                                    disabled="" id="selisih" placeholder="Selisih" />
                            </div>
                            <div class="input-group mt-1">
                                <div class="form-floating">
                                    <input autocomplete="off" class="form-control text-white" id="berapaHari"
                                        inputmode="numeric" oninput="untung(); formatInput(this);" placeholder="Hari"
                                        tabindex="5" />
                                    <label for="berapaHari">Berapa Hari?</label>
                                </div>
                                <button type="reset" class="btn btn-dark border" tabindex="-1" onclick="resetLblUntung()">
                                    <i class="bi bi-trash-fill" style="font-size: 1.25rem;"></i>
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        


        <br>


        <!-- Modal Hitung Cepat -->
        <div class="modal fade" id="modalHiCe" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-body">
                        <form action="">
                        <div class="row fs-5">
                            <div class="input-group">
                                <span class="form-control bg-light border border-1 border-light text-dark fs-5">
                                    Hitung<i class="bi bi-lightning-charge-fill" style="font-size: 1.25rem"></i>Cepat
                                </span>
                                <button type="reset" class="btn btn-light" tabindex="-1">
                                    <i class="bi bi-backspace-fill" style="font-size: 1.25rem"></i>
                                </button>
                                <button type="button" class="btn btn-light" data-bs-dismiss="modal" aria-label="Close"
                                    tabindex="-1">
                                    <i class="bi bi-x-lg" style="font-size: 1.25rem"></i>
                                </button>
                            </div>
                        </div>
                        <!-- <form action=""> -->
                            <div class="input-group mt-1">
                                <div class="form-floating">
                                    <input class="form-control text-white" autocomplete="off" inputmode="numeric"
                                        id="hicePop" oninput="hitungcepat(); formatInput(this);" placeholder="Setel"
                                        tabindex="5">
                                    <label for="hicePop">Populasi (Ekor)</label>
                                </div>
                                <div class="form-floating">
                                    <input class="form-control text-white" autocomplete="off" inputmode="numeric"
                                        id="hicePakan" oninput="hitungcepat(); formatInput(this);" placeholder="Setel"
                                        tabindex="7">
                                    <label for="hicePakan">Harga Pakan</label>
                                </div>
                            </div>
                            <div class="input-group mt-1">
                                <div class="form-floating">
                                    <input class="form-control text-white" autocomplete="off" inputmode="numeric"
                                        id="hicePro" oninput="hitungcepat()" placeholder="Harga" tabindex="6">
                                    <label for="hicePro">Produksi (%)</label>
                                </div>
                                <div class="form-floating">
                                    <input class="form-control text-white" autocomplete="off" inputmode="numeric"
                                        id="hiceTelur" oninput="hitungcepat(); formatInput(this);" placeholder="Harga"
                                        tabindex="8">
                                    <label for="hiceTelur">Harga Telur</label>
                                </div>
                            </div>
                            <div class="input-group mt-1">
                                <div class="form-floating">
                                    <select class="form-select" aria-label="Default select example" id="feedIntake"
                                        onchange="hitungcepat()">
                                        <option value="90">90</option>
                                        <option value="95">95</option>
                                        <option value="100">100</option>
                                        <option value="105">105</option>
                                        <option value="110" selected>110</option>
                                        <option value="115">115</option>
                                        <option value="120">120</option>
                                        <option value="125">125</option>
                                        <option value="130">130</option>
                                    </select>
                                    <label for="feedIntake">Porsi (gr)</label>
                                </div>
                                <div class="form-floating">
                                    <select class="form-select" aria-label="Default select example" id="hiceHari"
                                        onchange="hitungcepat()">
                                        <option value="1" selected>1 Hari</option>
                                        <option value="2">2 Hari</option>
                                        <option value="3">3 Hari</option>
                                        <option value="4">4 Hari</option>
                                        <option value="5">5 Hari</option>
                                        <option value="6">6 Hari</option>
                                        <option value="7">7 Hari</option>
                                        <option value="10">10 Hari</option>
                                        <option value="30">1 Bulan</option>
                                        <option value="90">3 Bulan</option>
                                        <option value="180">6 Bulan</option>
                                        <option value="365">1 Tahun</option>
                                    </select>
                                    <label for="hiceHari">Berapa Lama?</label>
                                </div>
                            </div>
                            <div class="input-group">
                                <div class="form-floating">
                                    <textarea class="form-control fs-5 mt-1 text-info" placeholder="" id="hiceHasil"
                                        style="height: 250px" disabled></textarea>
                                    <label for="hiceHasil" style="font-size: 14pt;" class="fw-bold">Hasil</label>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <br>
    <div class="row">
        <div class="col text-center text-light">
            &copy;
            Dibuat oleh Rocky Pratama
        </div>
    </div>
    <div class="row mt-1 mb-5">
        <div class="col text-center">
            <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="7.5mm" height="7.5mm" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd"
            viewBox="0 0 4233.32 4233.32"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            xmlns:xodm="http://www.corel.com/coreldraw/odm/2003">
            <g id="Layer_x0020_1">
            <metadata id="CorelCorpID_0Corel-Layer"/>
            <path class="fil0" d="M654.56 211.66c608.35,0 1216.66,0 1824.99,0 657.4,0 1194.44,537.01 1194.44,1194.42 0,568.06 -405.02,1059.88 -960.12,1171.23 -35.4,7.08 -34.77,6.42 -14.87,35.19 321.56,464.99 643.66,929.6 965.02,1394.72 10.84,15.69 11.71,14.4 -28.95,14.4 -200.86,0 -400.89,-0.16 -603.01,-0.16 -23.42,0 -45.37,-4.14 -64.4,-31.66 -314.1,-454.22 -628.46,-908.28 -942.65,-1362.43 -10.57,-15.26 -14.1,-16.73 -14.1,0.72l0 1298.29c0,52.61 -42.62,95.24 -95.22,95.24 -420.37,0 -840.74,0 -1261.13,0 -52.59,0 -95.25,-42.63 -95.24,-95.24 0,-1206.51 0,-2412.99 0,-3619.47 -0.01,-52.63 42.65,-95.25 95.24,-95.25zm1356.35 1810.61c0.48,51.91 42.48,93.9 94.42,94.35l374.22 0.02c390.32,0 710.57,-320.24 710.57,-710.56 0,-390.32 -320.25,-710.55 -710.57,-710.55l-1341.96 0c-51.94,0.45 -93.94,42.44 -94.42,94.38l0 2653.47c0.48,51.93 42.48,93.92 94.42,94.39l295.1 0c51.91,-0.47 93.9,-42.46 94.35,-94.39 0,-727.99 0,-1456.01 0,-2183.99 0,-52.6 42.65,-95.25 95.25,-95.25 294.33,0 588.65,0 882.98,0 52.62,0 95.25,42.65 95.25,95.25l0 293.36c0,52.61 -42.63,95.26 -95.25,95.26l-399.94 0c-51.94,0.48 -93.94,42.45 -94.42,94.38l0 279.88z"/>
            </g>
            </svg>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>








